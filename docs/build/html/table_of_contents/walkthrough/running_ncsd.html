

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>NCSD &mdash; NPSM 0.0.1 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../_static/doctools.js"></script>
        <script type="text/javascript" src="../../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Raising/Lowering" href="running_raising_lowering.html" />
    <link rel="prev" title="The Basics" href="the_basics.html" />
    <link href="../../_static/style.css" rel="stylesheet" type="text/css">

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home"> NPSM
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="walkthrough.html">Walkthrough</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="random.html">random stuff</a></li>
<li class="toctree-l2"><a class="reference internal" href="the_basics.html">The Basics</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">NCSD</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#run-ncsd">Run ncsd</a></li>
<li class="toctree-l3"><a class="reference internal" href="#plot-ncsd-output">Plot NCSD Output</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="running_raising_lowering.html">Raising/Lowering</a></li>
<li class="toctree-l2"><a class="reference internal" href="running_trdens.html">TRDENS</a></li>
<li class="toctree-l2"><a class="reference internal" href="running_ncsmc.html">NCSMC</a></li>
<li class="toctree-l2"><a class="reference internal" href="running_cross_sections.html">Cross-Sections</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../ncsd_python/ncsd_python.html">ncsd_python</a></li>
<li class="toctree-l1"><a class="reference internal" href="../raising_lowering/raising_lowering.html">raising_lowering</a></li>
<li class="toctree-l1"><a class="reference internal" href="../trdens_python/trdens_python.html">trdens_python</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ncsmc_python/ncsmc_python.html">ncsmc_python</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cross_sections/cross_sections.html">cross_sections</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">NPSM</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="walkthrough.html">Walkthrough</a> &raquo;</li>
        
      <li>NCSD</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/table_of_contents/walkthrough/running_ncsd.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="ncsd">
<h1>NCSD<a class="headerlink" href="#ncsd" title="Permalink to this headline">¶</a></h1>
<p>The ncsd_python module has 2 main uses. I’ll walk you through each.</p>
<div class="section" id="run-ncsd">
<h2>Run ncsd<a class="headerlink" href="#run-ncsd" title="Permalink to this headline">¶</a></h2>
<ol class="arabic">
<li><p>Open the <code class="docutils literal notranslate"><span class="pre">ncsd_python</span></code> directory, and the <code class="docutils literal notranslate"><span class="pre">ncsd_multi.py</span></code> file within.</p></li>
<li><p>You’ll see a bunch of parameters to adjust:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ncsd_path</span> <span class="o">=</span> <span class="n">realpath</span><span class="p">(</span><span class="s2">&quot;ncsd-it.exe&quot;</span><span class="p">)</span>
<span class="n">working_dir</span> <span class="o">=</span> <span class="n">realpath</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
<span class="n">int_dir</span> <span class="o">=</span> <span class="n">realpath</span><span class="p">(</span><span class="s2">&quot;../interactions/&quot;</span><span class="p">)</span>
<span class="n">machine</span> <span class="o">=</span> <span class="s2">&quot;cedar&quot;</span>
<span class="n">run</span> <span class="o">=</span> <span class="kc">True</span>
<span class="n">man_params</span> <span class="o">=</span> <span class="n">ManParams</span><span class="p">(</span>
    <span class="n">Z</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span>  <span class="c1"># number of protons</span>
    <span class="n">N</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span>  <span class="c1"># number of neutrons</span>
    <span class="o">...</span>
<span class="p">)</span>
</pre></div>
</div>
<p>Edit them for your specific case. If you want to have multiple runs, you
can use lists for the <code class="docutils literal notranslate"><span class="pre">ManParams</span></code> parameters, e.g.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">man_params</span> <span class="o">=</span> <span class="n">ManParams</span><span class="p">(</span>
    <span class="n">Z</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span>  <span class="c1"># number of protons</span>
    <span class="n">N</span><span class="o">=</span><span class="p">[</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">],</span>  <span class="c1"># number of neutrons</span>
    <span class="o">...</span>
<span class="p">)</span>
</pre></div>
</div>
<p>That would run ncsd 4 times, for lithium 6, 7, 8, and 9.</p>
</li>
<li><p>Once you have finished with all that, just run the file:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">python</span> <span class="n">ncsd_multi</span><span class="o">.</span><span class="n">py</span>
</pre></div>
</div>
<p>This will create a directory for each run, and put all the necessary files
inside. Then depending on the value of <code class="docutils literal notranslate"><span class="pre">run</span></code>, it will run the batch file
in the directory. If <code class="docutils literal notranslate"><span class="pre">run=False</span></code>, you’ll have to do that yourself.</p>
<p>The batch script was created such that the output from ncsd gets plotted
automatically, i.e. the next section should already be done, but you may
want to edit those plots so still read the next section.</p>
</li>
</ol>
</div>
<div class="section" id="plot-ncsd-output">
<h2>Plot NCSD Output<a class="headerlink" href="#plot-ncsd-output" title="Permalink to this headline">¶</a></h2>
<p>So now you have ncsd output, but it’s not in a directly plottable format.</p>
<p>The filename will look something like <code class="docutils literal notranslate"><span class="pre">Li8_n3lo-NN3Nlnl-srg2.0_Nmax0-10.20</span></code>.</p>
<p>The script <code class="docutils literal notranslate"><span class="pre">output_plotter.py</span></code> will plot the energies of various states
for your nucleus of interest.</p>
<p>For example, the file listed above produced the following plot
(using filler data for experimental values, our calculation wasn’t THAT good):</p>
<a href="https://i.imgur.com/JcXMeMW.jpg" >
    <img src="https://i.imgur.com/JcXMeMW.jpg"/>
</a><p>This is just the auto-generated matplotlib plot, which could use some work
in terms of beauty, but it illustrates what gets plotted.
The xmgrace version plots channel titles too.</p>
<div class="admonition-future-work admonition">
<p class="admonition-title">Future Work</p>
<p>The matplotlib graph could be better, with channel titles etc.</p>
</div>
<p>If you want your plot to exclude certain Nmax values or something,
there are parameters in the <code class="docutils literal notranslate"><span class="pre">output_plotter.py</span></code> file that you can edit,
and then re-run, same kind of idea as with <code class="docutils literal notranslate"><span class="pre">ncsd_multi.py</span></code>.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="running_raising_lowering.html" class="btn btn-neutral float-right" title="Raising/Lowering" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="the_basics.html" class="btn btn-neutral float-left" title="The Basics" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, Callum McCracken

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>